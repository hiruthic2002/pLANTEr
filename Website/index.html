<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Materialize CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/css/materialize.min.css"
    />
    <!-- Materialize Icons -->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="index.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <title>PlanteR</title>
  </head>

  <body>
    <nav>
      <img style="display: none;" id="cherryblossom" src="cherryblossom.svg" />
      <!-- CHERRY BLOSSOM SVG FROM DISCORD-->
      <div class="navbar-wrapper">
        <a href="#" class="brand-logo center">pLANTEr</a>
        <a href="#" data-target="mobile-nav" class="sidenav-trigger"
          ><i class="material-icons">menu</i></a
        >
        <ul id="nav-mobile" class="right hide-on-med-and-down">
          <li class="active"><a href="#home">Home</a></li>
          <li><a href="#about">About</a></li>
          <li><a href="#contact">Contact</a></li>
          <li id="login"><a href="#">Login</a></li>
        </ul>
      </div>
    </nav>

    <ul class="sidenav" id="mobile-nav">
      <li class="active"><a href="#home">Home</a></li>
      <li><a href="#about">About</a></li>
      <li><a href="#contact">Contact</a></li>
      <li id="login"><a href="#">Login</a></li>
    </ul>

    <div class="container row" index="#home">
      <form action="" class="col s12">
        <div class="row">
          <div class="input-field col s6">
            <i class="material-icons prefix">account_circle</i>
            <input type="text" id="username" class="validate" />
            <label for="username">GitHub Username</label>
            <span
              id="required-username"
              class="helper-text"
              data-error="Wrong"
              data-success="Right"
            ></span>
          </div>
        </div>
      </form>
      <button
        type="submit"
        id="get"
        class="btn-floating btn-medium waves-effect waves-light pulse black"
      >
        <i class="material-icons prefix">search</i>
      </button>
      <div class="progress" id="loading" style="display: none;">
        <div class="indeterminate"></div>
      </div>
    </div>

    <div class="container" id="data-section" style="display: none;">
      <img src="" alt="" id="avatar" class="z-depth-3" />
      <a id="blog" href="">
        <i
          class="fa fa-internet-explorer"
          style="font-size: 20px; padding: 10px;"
        ></i>
      </a>
      <a id="link" href="">
        <i class="fa fa-github" style="font-size: 20px; padding: 10px;"></i>
      </a>
      <br />
      <button
        id="follower-btn"
        class="waves-effect waves-light btn btn-secondary"
        data-url=""
      >
        <span id="followers"></span> followers
      </button>
      <button
        id="following-btn"
        class="waves-effect waves-light btn btn-secondary"
        data-url=""
      >
        <span id="following"></span> following
      </button>
    </div>

    <div id="modal-error" class="modal">
      <div class="modal-content">
        <h4>API rate limit exceeded</h4>
        <p>
          We are sorry to say this but the API rate limit is limited on
          <a
            href="https://developer.github.com/v3/#rate-limiting"
            target="_blank"
            >GitHub</a
          >
          API. By default all requests are unauthenticated, unauthenticated
          clients are limited to 60 request per hour. So please kindly come
          after an hour or login with your github account to make more
          requests.ðŸ™‚
        </p>
      </div>
      <div class="modal-footer">
        <a href="#!" class="modal-close waves-effect waves-green btn-flat"
          >Understood</a
        >
      </div>
    </div>

    <canvas class="background" id="background"></canvas>

    <!-- Jquery -->
    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <!-- Materialize JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/js/materialize.min.js"></script>

    <!-- just github-api source (5.3kb) -->
    <script src="https://unpkg.com/github-api/dist/GitHub.min.js"></script>
    <script src="https://unpkg.com/paper"></script>
    <script src="index.js"></script>

    <script>
      document
        .getElementById("follower-btn")
        .addEventListener("click", function () {
          let url = document
            .getElementById("follower-btn")
            .getAttribute("data-url");
          console.log(url);
          window.location.replace(url);
        });
      document
        .getElementById("following-btn")
        .addEventListener("click", function () {
          let url = document
            .getElementById("following-btn")
            .getAttribute("data-url");
          window.location.replace(url);
        });
    </script>
    <!--
    ====
    ====
    ====
    ====
    PAPER.JS INLINE SCRIPT
    If the animation script is not inline, there is a CORS error
    This comment is here to aid in readability and maintability.
    Please do not remove!
    ====
    ====
    ====
    ====
    -->
    <script type="text/paperscript" canvas="background">
          var alias = project.activeLayer.children;

          function onFrame(event) {
            for (var i = 0; i < alias.length; i++) {
              if (alias[i]) { //if the item exists...
                alias[i].position.y += alias[i].bounds.width / 2; //move down
                alias[i].rotate(4); //rotate
                if (alias[i].bounds.top - 100 > view.bounds.height) {
                  // - 100 because the svg is actually a rectangle;
                  //the blossoms were being removed prematurely
                  alias[i].remove(); //remove raster to prevent memory overload
                }
              }
              else {
                continue; //keep going, let javascript garbage collecting delete
                //the object.
              }
            }
          }

      function addFlower(center) {
          var flower = new Raster("cherryblossom");//get the raster img
          flower.scale(Math.random() / 10); //make it smaller
          flower.position = center; //center is a function param
      }

      view.onMouseDown = function(event) {
        var center = {
          x: event.point.x - 100, //the svg is offset slightly - hardcoded some
          y: event.point.y - 100, //values to make it appear near the cursor
        }
        addFlower(center);//add the svg
      }

          console.log("hello world") //make sure the script works
    </script>
  </body>
</html>
